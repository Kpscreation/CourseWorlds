<th:block th:insert="~{Admin/fragments/Header}"/>
<th:block th:insert="~{Admin/fragments/Navbar}" />
<th:block th:insert="~{Admin/fragments/Sidebar}" />

<div class="content-wrapper">

<section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1>Profile</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">User Profile</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-12">

            <!-- Profile Image -->
			<form th:action="@{/User/profile}" method="POST" th:object="${user}" enctype="multipart/form-data">
				<input type="hidden" th:value="${user.user_id}" name="user_id">										
            <div class="card card-primary card-outline">
              <div class="card-body box-profile">
                <div class="text-center">
                  <img class="profile-user-img img-fluid img-circle"                       
					   th:src="@{'/uploads/' + ${user.img}}"					   					  
                       alt="User profile picture">
                </div>                                     
              </div>
			  <div class="form-group p-2">
                   <label for="imgFile">Profile Image</label>
                   <div class="input-group">
                       <div class="custom-file">
                           <input type="file" class="custom-file-input" id="imgFile" name="img">
                           <label class="custom-file-label" for="imgFile">Choose file</label>
                       </div>
                   </div>
                   <span th:if="${imgError}" th:text="${imgError}" style="color:red;"></span>
             </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

            <!-- About Me Box -->
	            <div class="card card-primary">
	              <div class="card-header">
	                <h3 class="card-title">About Me</h3>
	              </div>
	              <!-- /.card-header -->
	              <div class="card-body">
	                <strong>Name</strong>
	
	                <p class="text-muted">
	                 <input type="text" name="name" class="col-12" th:value="${user.name}" placeholder="Enter Your Name">
					 <span th:if="${nameError}" th:text="${nameError}" style="color:red;"></span>
	                </p>
	
	                <hr>
	
	                <strong>Email</strong>
	
	                <p class="text-muted">
						<input type="email" name="email" class="col-12" th:value="${user.email}" placeholder="Enter Your Email">
						<span th:if="${emailError}" th:text="${emailError}" style="color:red;"></span>
					</p>
	
	                <hr>
	
	                <strong>Password</strong>
					<p class="text-muted">
					     <input type="password" name="password" class="col-12" th:value="${user.password}" placeholder="Enter Your Password">
						 <span th:if="${passwordError}" th:text="${passwordError}" style="color:red;"></span>
					 </p>
	
	               
	                <hr>
					
					<strong>Address</strong>
					<p class="text-muted">
					     <textarea  name="address" class="col-12" placeholder="Enter Your Address" th:text="${user.address}"></textarea>
						 <span th:if="${addressError}" th:text="${addressError}" style="color:red;"></span>
					 </p>
					 
					 <hr>
					 <strong>Phone</strong>
	 				<p class="text-muted">
	 				     <input  type="number" name="phone" th:value="${user.phone}" class="col-12" placeholder="Enter Your Phone"/>
						 <span th:if="${phoneError}" th:text="${phoneError}" style="color:red;"></span>
	 				 </p>
	
					 <button type="submit" name="submit" class="bg-primary text-white p-2 border rounded-start">Update</button>
	                <span th:if="${successMessage}" th:text="${successMessage}" class="text-success"></span>
	              </div>
	              <!-- /.card-body -->
	            </div>
			</form>
            <!-- /.card -->
          </div>
         
        </div>
      </div><!-- /.container-fluid -->
    </section>
</div>
<th:block th:insert="~{Admin/fragments/Footer}"/>